import{d as C,z as N,p as M,r as y,o as h,c as f,f as l,h as a,u as s,s as $,w as n,v as m,N as v,K as B,B as r,m as d,k as D,M as z,O as g,J as L,b as k}from"./index-DcBfBbp_.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"licenses-page"},V={class:"nav"},E={class:"nav-content"},R={class:"content"},j={key:0,class:"empty"},A=C({__name:"MyLicenses",setup(I){const i=$(),c=N(),_=M(),u=y([]),p=y(!1),x={monthly:"æœˆåº¦ç‰ˆ",yearly:"å¹´åº¦ç‰ˆ",lifetime:"ç»ˆèº«ç‰ˆ",trial:"è¯•ç”¨ç‰ˆ",promo_free:"é™å…ç‰ˆ",free_forever:"æ°¸ä¹…å…è´¹"},b={pending:{label:"å¾…æ¿€æ´»",type:"warning"},active:{label:"å·²æ¿€æ´»",type:"success"},expired:{label:"å·²è¿‡æœŸ",type:"error"},revoked:{label:"å·²åŠé”€",type:"error"}},w=[{title:"æˆæƒç ",key:"license_key",width:240,render:t=>g("code",{style:"font-size: 12px"},t.license_key)},{title:"ç‰ˆæœ¬",key:"plan_type",width:100,render:t=>x[t.plan_type]||t.plan_type},{title:"çŠ¶æ€",key:"status",width:90,render:t=>{const e=b[t.status]||{label:t.status,type:"info"};return g(L,{type:e.type,size:"small"},()=>e.label)}},{title:"åˆ°æœŸæ—¶é—´",key:"expire_date",width:120,render:t=>t.expire_date?new Date(t.expire_date).toLocaleDateString("zh-CN"):"æ°¸ä¹…"},{title:"æœ€å¤§ç”¨æˆ·æ•°",key:"max_users",width:100},{title:"å·²ç»‘å®šè®¾å¤‡",key:"machine_id",width:100,render:t=>t.machine_id?"å·²ç»‘å®š":"æœªç»‘å®š"}];return h(async()=>{p.value=!0;try{const t=await B.getMyLicenses();t.code===200&&(u.value=t.data||[])}catch{c.error("åŠ è½½å¤±è´¥")}finally{p.value=!1}}),(t,e)=>(k(),f("div",T,[l("header",V,[l("div",E,[l("div",{class:"logo",onClick:e[0]||(e[0]=o=>s(i).push("/"))},"ğŸƒ èŒ—ç®¡å®¶"),a(s(m),null,{default:n(()=>[a(s(r),{text:"",onClick:e[1]||(e[1]=o=>s(i).push("/dashboard"))},{default:n(()=>[...e[6]||(e[6]=[d("æ§åˆ¶å°",-1)])]),_:1}),a(s(r),{text:"",onClick:e[2]||(e[2]=o=>s(i).push("/orders"))},{default:n(()=>[...e[7]||(e[7]=[d("æˆ‘çš„è®¢å•",-1)])]),_:1}),a(s(r),{text:"",onClick:e[3]||(e[3]=o=>s(i).push("/pricing"))},{default:n(()=>[...e[8]||(e[8]=[d("è´­ä¹°",-1)])]),_:1}),a(s(r),{onClick:e[4]||(e[4]=o=>{s(_).logout(),s(i).push("/")})},{default:n(()=>[...e[9]||(e[9]=[d("é€€å‡º",-1)])]),_:1})]),_:1})])]),l("main",R,[a(s(m),{justify:"space-between",align:"center"},{default:n(()=>[e[11]||(e[11]=l("h1",null,"æˆ‘çš„æˆæƒ",-1)),a(s(r),{type:"primary",onClick:e[5]||(e[5]=o=>s(i).push("/pricing"))},{default:n(()=>[...e[10]||(e[10]=[d("è´­ä¹°æ–°æˆæƒ",-1)])]),_:1})]),_:1}),a(s(v),{style:{"margin-top":"24px"}},{default:n(()=>[a(s(z),{columns:w,data:u.value,loading:p.value,bordered:!1,"row-key":o=>o.id},null,8,["data","loading","row-key"]),!p.value&&u.value.length===0?(k(),f("div",j," æš‚æ— æˆæƒè®°å½• ")):D("",!0)]),_:1}),a(s(v),{title:"ä½¿ç”¨è¯´æ˜",style:{"margin-top":"24px"}},{default:n(()=>[...e[12]||(e[12]=[l("ol",{style:{"padding-left":"20px",color:"#666","line-height":"2"}},[l("li",null,"è´­ä¹°æˆæƒåï¼Œæ‚¨å°†è·å¾—ä¸€ä¸ªæˆæƒç "),l("li",null,"åœ¨èŒ—ç®¡å®¶ ERP è½¯ä»¶ä¸­è¾“å…¥æˆæƒç è¿›è¡Œæ¿€æ´»"),l("li",null,"æ¯ä¸ªæˆæƒç åªèƒ½ç»‘å®šä¸€å°è®¾å¤‡ï¼Œå¦‚éœ€æ›´æ¢è¯·è”ç³»å®¢æœ"),l("li",null,"æˆæƒåˆ°æœŸå‰ç³»ç»Ÿä¼šé€šè¿‡é‚®ä»¶æé†’æ‚¨ç»­è´¹")],-1)])]),_:1})])]))}}),P=S(A,[["__scopeId","data-v-a3b80d62"]]);export{P as default};
