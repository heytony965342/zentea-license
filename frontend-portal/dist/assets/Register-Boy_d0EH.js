import{d as _,z as c,r as m,c as y,f as t,h as o,u as l,s as b,w as u,N,A as x,C as n,D as r,B as f,m as g,v as C,G as U,b as k}from"./index-DcBfBbp_.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"register-page"},P={class:"register-box"},R={class:"register-header"},I={class:"register-footer"},V=_({__name:"Register",setup(A){const v=b(),d=c(),i=m(!1),a=m({username:"",email:"",password:"",confirmPassword:"",company_name:"",contact_name:"",phone:""}),w=async()=>{var p,e;if(!a.value.username||!a.value.email||!a.value.password){d.warning("è¯·å¡«å†™å¿…å¡«é¡¹");return}if(a.value.password!==a.value.confirmPassword){d.warning("ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´");return}i.value=!0;try{const s=await U.register({username:a.value.username,email:a.value.email,password:a.value.password,company_name:a.value.company_name||void 0,contact_name:a.value.contact_name||void 0,phone:a.value.phone||void 0});s.code===200?(d.success("æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•"),v.push("/login")):d.error(s.message||"æ³¨å†Œå¤±è´¥")}catch(s){d.error(((e=(p=s.response)==null?void 0:p.data)==null?void 0:e.message)||"æ³¨å†Œå¤±è´¥")}finally{i.value=!1}};return(p,e)=>(k(),y("div",q,[t("div",P,[t("div",R,[t("div",{class:"logo",onClick:e[0]||(e[0]=s=>l(v).push("/"))},"ğŸƒ èŒ—ç®¡å®¶"),e[9]||(e[9]=t("h2",null,"æ³¨å†Œè´¦æˆ·",-1))]),o(l(N),null,{default:u(()=>[o(l(x),null,{default:u(()=>[o(l(n),{label:"ç”¨æˆ·å",required:""},{default:u(()=>[o(l(r),{value:a.value.username,"onUpdate:value":e[1]||(e[1]=s=>a.value.username=s),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å"},null,8,["value"])]),_:1}),o(l(n),{label:"é‚®ç®±",required:""},{default:u(()=>[o(l(r),{value:a.value.email,"onUpdate:value":e[2]||(e[2]=s=>a.value.email=s),placeholder:"è¯·è¾“å…¥é‚®ç®±"},null,8,["value"])]),_:1}),o(l(n),{label:"å¯†ç ",required:""},{default:u(()=>[o(l(r),{value:a.value.password,"onUpdate:value":e[3]||(e[3]=s=>a.value.password=s),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç "},null,8,["value"])]),_:1}),o(l(n),{label:"ç¡®è®¤å¯†ç ",required:""},{default:u(()=>[o(l(r),{value:a.value.confirmPassword,"onUpdate:value":e[4]||(e[4]=s=>a.value.confirmPassword=s),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},null,8,["value"])]),_:1}),o(l(n),{label:"ä¼ä¸šåç§°"},{default:u(()=>[o(l(r),{value:a.value.company_name,"onUpdate:value":e[5]||(e[5]=s=>a.value.company_name=s),placeholder:"é€‰å¡«"},null,8,["value"])]),_:1}),o(l(n),{label:"è”ç³»äºº"},{default:u(()=>[o(l(r),{value:a.value.contact_name,"onUpdate:value":e[6]||(e[6]=s=>a.value.contact_name=s),placeholder:"é€‰å¡«"},null,8,["value"])]),_:1}),o(l(n),{label:"è”ç³»ç”µè¯"},{default:u(()=>[o(l(r),{value:a.value.phone,"onUpdate:value":e[7]||(e[7]=s=>a.value.phone=s),placeholder:"é€‰å¡«"},null,8,["value"])]),_:1}),o(l(f),{type:"primary",block:"",loading:i.value,onClick:w},{default:u(()=>[...e[10]||(e[10]=[g(" æ³¨å†Œ ",-1)])]),_:1},8,["loading"])]),_:1}),t("div",I,[o(l(C),{justify:"center"},{default:u(()=>[e[12]||(e[12]=t("span",null,"å·²æœ‰è´¦æˆ·ï¼Ÿ",-1)),o(l(f),{text:"",type:"primary",onClick:e[8]||(e[8]=s=>l(v).push("/login"))},{default:u(()=>[...e[11]||(e[11]=[g("ç«‹å³ç™»å½•",-1)])]),_:1})]),_:1})])]),_:1})])]))}}),h=B(V,[["__scopeId","data-v-1d2ae229"]]);export{h as default};
