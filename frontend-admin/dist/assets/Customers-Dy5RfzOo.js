import{d as f,u as y,r as a,F as v,c as k,m as p,b as r,w as h,e as d,N as w,H as _,K as z,v as x,L as C,f as N,B,o as b}from"./index-BZbewaeb.js";const D={style:{"margin-top":"16px",display:"flex","justify-content":"flex-end"}},M=f({__name:"Customers",setup(S){const c=N(),m=y(),s=a(!1),u=a([]),o=a(1),l=a(20),g=[{title:"ID",key:"id",width:60},{title:"用户名",key:"username",width:120},{title:"企业名称",key:"company_name",ellipsis:{tooltip:!0}},{title:"联系人",key:"contact_name",width:100},{title:"邮箱",key:"email",width:180},{title:"电话",key:"phone",width:130},{title:"注册时间",key:"created_at",width:160,render:e=>e.created_at?new Date(e.created_at).toLocaleString("zh-CN"):"-"},{title:"操作",key:"actions",width:100,render:e=>x(B,{size:"small",onClick:()=>c.push(`/customers/${e.id}`)},()=>"详情")}],n=async()=>{s.value=!0;try{const e=await _.getCustomers({page:o.value,page_size:l.value});e.code===200&&(u.value=e.data.items)}catch{m.error("加载失败")}finally{s.value=!1}};return v(n),(e,t)=>(b(),k("div",null,[t[2]||(t[2]=p("h2",{style:{"margin-bottom":"24px"}},"客户管理",-1)),r(d(w),null,{default:h(()=>[r(d(z),{columns:g,data:u.value,loading:s.value,bordered:!1},null,8,["data","loading"]),p("div",D,[r(d(C),{page:o.value,"onUpdate:page":[t[0]||(t[0]=i=>o.value=i),n],"page-size":l.value,"onUpdate:pageSize":[t[1]||(t[1]=i=>l.value=i),n],"page-sizes":[20,50,100],"show-size-picker":""},null,8,["page","page-size"])])]),_:1})]))}});export{M as default};
