import{d as x,u as g,r as _,F as b,c as y,l as u,b as e,w as l,e as a,G as N,N as n,H as k,I as r,J as d,z as C,E as v,k as c,o as D}from"./index-g5hkaJ8F.js";const V=x({__name:"Dashboard",setup(w){const m=g(),s=_({total_customers:0,licenses:{active:0,pending:0,expired:0,expiring_soon:0}}),i=_(!1);return b(async()=>{i.value=!0;try{const o=await k.getDashboard();o.code===200&&(s.value=o.data)}catch{m.error("加载数据失败")}finally{i.value=!1}}),(o,t)=>{const f=v("n-button"),p=v("router-link");return D(),y("div",null,[t[5]||(t[5]=u("h2",{style:{"margin-bottom":"24px"}},"仪表盘",-1)),e(a(N),{cols:4,"x-gap":16,"y-gap":16},{default:l(()=>[e(a(r),null,{default:l(()=>[e(a(n),null,{default:l(()=>[e(a(d),{label:"客户总数",value:s.value.total_customers},null,8,["value"])]),_:1})]),_:1}),e(a(r),null,{default:l(()=>[e(a(n),null,{default:l(()=>[e(a(d),{label:"有效授权",value:s.value.licenses.active},{suffix:l(()=>[...t[0]||(t[0]=[u("span",{style:{color:"#18a058"}},"个",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),e(a(r),null,{default:l(()=>[e(a(n),null,{default:l(()=>[e(a(d),{label:"待激活",value:s.value.licenses.pending},{suffix:l(()=>[...t[1]||(t[1]=[u("span",{style:{color:"#f0a020"}},"个",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),e(a(r),null,{default:l(()=>[e(a(n),null,{default:l(()=>[e(a(d),{label:"即将到期（7天内）",value:s.value.licenses.expiring_soon},{suffix:l(()=>[...t[2]||(t[2]=[u("span",{style:{color:"#d03050"}},"个",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(a(n),{title:"快速操作",style:{"margin-top":"24px"}},{default:l(()=>[e(a(C),null,{default:l(()=>[e(p,{to:"/customers"},{default:l(()=>[e(f,null,{default:l(()=>[...t[3]||(t[3]=[c("管理客户",-1)])]),_:1})]),_:1}),e(p,{to:"/licenses"},{default:l(()=>[e(f,null,{default:l(()=>[...t[4]||(t[4]=[c("管理授权",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])}}});export{V as default};
