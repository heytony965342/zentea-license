import{d as g,u as _,a as w,r as p,c as y,b as a,w as l,e as s,N,f as k,o as x,g as b,h as c,i,j as f,B as h,k as B}from"./index-BZbewaeb.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"login-page"},I=g({__name:"Login",setup(K){const m=k(),r=_(),v=w(),t=p(!1),e=p({username:"",password:""}),n=async()=>{if(!e.value.username||!e.value.password){r.warning("请输入用户名和密码");return}t.value=!0;try{await v.login(e.value.username,e.value.password)?(r.success("登录成功"),m.push("/")):r.error("用户名或密码错误")}catch(u){r.error(u.message||"登录失败")}finally{t.value=!1}};return(u,o)=>(x(),y("div",L,[a(s(N),{class:"login-card",title:"ZenTea License 管理后台"},{default:l(()=>[a(s(b),null,{default:l(()=>[a(s(c),{label:"用户名"},{default:l(()=>[a(s(i),{value:e.value.username,"onUpdate:value":o[0]||(o[0]=d=>e.value.username=d),placeholder:"请输入用户名",onKeyup:f(n,["enter"])},null,8,["value"])]),_:1}),a(s(c),{label:"密码"},{default:l(()=>[a(s(i),{value:e.value.password,"onUpdate:value":o[1]||(o[1]=d=>e.value.password=d),type:"password",placeholder:"请输入密码",onKeyup:f(n,["enter"])},null,8,["value"])]),_:1}),a(s(h),{type:"primary",block:"",loading:t.value,onClick:n},{default:l(()=>[...o[2]||(o[2]=[B(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]))}}),S=C(I,[["__scopeId","data-v-df93a484"]]);export{S as default};
